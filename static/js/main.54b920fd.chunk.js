(this["webpackJsonpmapbox-task"]=this["webpackJsonpmapbox-task"]||[]).push([[0],{32:function(e,t,n){e.exports=n(51)},37:function(e,t,n){},38:function(e,t,n){},39:function(e,t,n){},40:function(e,t,n){},51:function(e,t,n){"use strict";n.r(t);var a=n(2),o=n.n(a),r=n(16),i=n.n(r),c=(n(37),n(38),n(39),n(40),n(56)),l=n(55),s=n(54),m=n(30),u=n(22),d=n(18),g=Object(a.createContext)(),p=function(e){var t=Object(a.useState)([]),n=Object(d.a)(t,2),r=n[0],i=n[1];return o.a.createElement(g.Provider,{value:{markers:r,setMarkers:i}},e.children)},b=Object(a.createContext)(),f=function(e){var t=Object(a.useState)({width:"100%",height:"50vh",latitude:37.7577,longitude:-122.4376,zoom:8}),n=Object(d.a)(t,2),r=n[0],i=n[1];return o.a.createElement(b.Provider,{value:{viewport:r,setViewport:i}},e.children)},h=n(21),E=function(){var e=Object(a.useContext)(g),t=e.markers,n=e.setMarkers,r=Object(a.useContext)(b),i=r.viewport,c=r.setViewport;Object(a.useEffect)((function(){navigator.geolocation.getCurrentPosition((function(e){var t=e.coords;c({width:"100%",height:"50vh",latitude:t.latitude,longitude:t.longitude,zoom:10})}))}),[]);var l=function(e,t,n){t!==n&&(Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(e,t)),delete e[t])},s=function(e){var a=Object(u.a)(t),o=a.filter((function(t){return t.id===parseFloat(e.target.id)}))[0];o.long=e.lngLat[0],o.lat=e.lngLat[1];var r=a.findIndex((function(t){return t.id===parseFloat(e.target.id)}));a[r]=o,n(a)};return o.a.createElement(h.b,Object.assign({className:"map-container"},i,{mapboxApiAccessToken:"pk.eyJ1IjoibWlrdWxza2VlIiwiYSI6ImNrOGxjZGx3ZTA1ZzMzbW8yand1cnh6cGsifQ.PBJl0XCSixTu69VZv8Li6A",onViewportChange:c,onClick:function(e){var a=Object(m.a)({},e.lngLat,{id:e.timeStamp});l(a,"0","long"),l(a,"1","lat"),n([].concat(Object(u.a)(t),[a]))}}),t.map((function(e){return o.a.createElement(h.a,{className:"marker-".concat(e.id),key:e.id,latitude:e.lat,longitude:e.long,draggable:!0,onDragEnd:s},o.a.createElement("div",{className:"marker"},o.a.createElement("h6",{className:"h6"},t.indexOf(e)+1),o.a.createElement("i",{id:e.id,className:"now-ui-icons location_pin"})))})))},v=n(52),w=n(53),x=function(){var e=Object(a.useContext)(g),t=e.markers,n=e.setMarkers,r=Object(a.useContext)(b).setViewport;return o.a.createElement(v.a,null,t.map((function(e){return o.a.createElement(w.a,{key:e.id,className:"coordinates",id:e.id},o.a.createElement("strong",null,t.indexOf(e)+1,".")," Lat:"," ",e.lat.toFixed(4)," Long: ",e.long.toFixed(4),o.a.createElement("button",{className:"btn btn-success btn-round btn-sm",type:"button",onClick:function(){return t=e.lat.toFixed(4),n=e.long.toFixed(4),document.getElementById("exampleAccordion1").scrollIntoView({behavior:"smooth"}),void r({width:"100%",height:"50vh",latitude:parseFloat(t),longitude:parseFloat(n),zoom:15});var t,n}},o.a.createElement("i",{className:"now-ui-icons business_globe"})," Show Me!"),o.a.createElement("button",{className:"btn btn-primary btn-icon btn-round btn-sm",type:"button",onClick:function(){return function(e){var a=t.filter((function(t){return t.id!==e}));n(a)}(e.id)}},o.a.createElement("i",{className:"now-ui-icons ui-1_simple-remove danger"})))})))},k=function(){var e=Object(a.useContext)(g).markers,t=function(t){"exampleAccordion2"===t.target.id&&0===e.length||t.target.querySelector(".animation-arrow").classList.toggle("active")};return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"item"},o.a.createElement(c.a,{href:"#pablo",className:"custom-alert",id:"exampleAccordion1",onClick:function(e){e.preventDefault(),t(e)}},o.a.createElement("h3",{className:"h3 pointer-events-none"},"Map"," ",o.a.createElement("strong",null,o.a.createElement("i",{className:"now-ui-icons arrows-1_minimal-up animation-arrow"})))),o.a.createElement(l.a,{role:"tabpanel",toggler:"#exampleAccordion1",defaultOpen:!0},o.a.createElement(E,null))),o.a.createElement("div",{className:"item"},o.a.createElement(c.a,{href:"#pablo",className:"custom-alert",id:"exampleAccordion2",onClick:function(e){e.preventDefault(),t(e)}},o.a.createElement("h3",{className:"h3 pointer-events-none"},"Coordinates ",o.a.createElement(s.a,{color:"default"},e.length),o.a.createElement("strong",null,o.a.createElement("i",{className:"now-ui-icons arrows-1_minimal-down animation-arrow"})))),o.a.createElement(l.a,{role:"tabpanel",toggler:"#exampleAccordion2"},o.a.createElement(x,null))))},O=function(){return o.a.createElement(f,null,o.a.createElement(p,null,o.a.createElement("h1",{className:"h1 text-align-center"}," Mapbox-task"),o.a.createElement(k,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(o.a.createElement(o.a.Fragment,null,o.a.createElement(O,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[32,1,2]]]);
//# sourceMappingURL=main.54b920fd.chunk.js.map